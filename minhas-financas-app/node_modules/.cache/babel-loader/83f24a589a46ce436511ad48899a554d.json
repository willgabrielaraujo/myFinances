{"ast":null,"code":"var accounting = require('accounting');\n\nvar assign = require('object-assign');\n\nvar localeCurrency = require('locale-currency');\n\nvar currencies = require('./currencies.json');\n\nvar localeFormats = require('./localeFormats.json');\n\nvar defaultCurrency = {\n  symbol: '',\n  thousandsSeparator: ',',\n  decimalSeparator: '.',\n  symbolOnLeft: true,\n  spaceBetweenAmountAndSymbol: false,\n  decimalDigits: 2\n};\nvar defaultLocaleFormat = {};\nvar formatMapping = [{\n  symbolOnLeft: true,\n  spaceBetweenAmountAndSymbol: false,\n  format: {\n    pos: '%s%v',\n    neg: '-%s%v',\n    zero: '%s%v'\n  }\n}, {\n  symbolOnLeft: true,\n  spaceBetweenAmountAndSymbol: true,\n  format: {\n    pos: '%s %v',\n    neg: '-%s %v',\n    zero: '%s %v'\n  }\n}, {\n  symbolOnLeft: false,\n  spaceBetweenAmountAndSymbol: false,\n  format: {\n    pos: '%v%s',\n    neg: '-%v%s',\n    zero: '%v%s'\n  }\n}, {\n  symbolOnLeft: false,\n  spaceBetweenAmountAndSymbol: true,\n  format: {\n    pos: '%v %s',\n    neg: '-%v %s',\n    zero: '%v %s'\n  }\n}];\n\nfunction format(value, options) {\n  var code = options.code || options.locale && localeCurrency.getCurrency(options.locale);\n  var localeMatch = /^([a-z]+)([_-]([a-z]+))?$/i.exec(options.locale) || [];\n  var language = localeMatch[1];\n  var region = localeMatch[3];\n  var localeFormat = assign({}, defaultLocaleFormat, localeFormats[language] || {}, localeFormats[language + '-' + region] || {});\n  var currency = assign({}, defaultCurrency, findCurrency(code), localeFormat);\n  var symbolOnLeft = currency.symbolOnLeft;\n  var spaceBetweenAmountAndSymbol = currency.spaceBetweenAmountAndSymbol;\n  var format = formatMapping.filter(function (f) {\n    return f.symbolOnLeft == symbolOnLeft && f.spaceBetweenAmountAndSymbol == spaceBetweenAmountAndSymbol;\n  })[0].format;\n  return accounting.formatMoney(value, {\n    symbol: isUndefined(options.symbol) ? currency.symbol : options.symbol,\n    decimal: isUndefined(options.decimal) ? currency.decimalSeparator : options.decimal,\n    thousand: isUndefined(options.thousand) ? currency.thousandsSeparator : options.thousand,\n    precision: typeof options.precision === 'number' ? options.precision : currency.decimalDigits,\n    format: ['string', 'object'].indexOf(typeof options.format) > -1 ? options.format : format\n  });\n}\n\nfunction findCurrency(currencyCode) {\n  return currencies[currencyCode];\n}\n\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\nfunction unformat(value, options) {\n  var code = options.code || options.locale && localeCurrency.getCurrency(options.locale);\n  var localeFormat = localeFormats[options.locale] || defaultLocaleFormat;\n  var currency = assign({}, defaultCurrency, findCurrency(code), localeFormat);\n  var decimal = isUndefined(options.decimal) ? currency.decimalSeparator : options.decimal;\n  return accounting.unformat(value, decimal);\n}\n\nmodule.exports = {\n  defaultCurrency: defaultCurrency,\n\n  get currencies() {\n    // In favor of backwards compatibility, the currencies map is converted to an array here\n    return Object.keys(currencies).map(function (key) {\n      return currencies[key];\n    });\n  },\n\n  findCurrency: findCurrency,\n  format: format,\n  unformat: unformat\n};","map":{"version":3,"sources":["/Users/gabrielaraujo/Dev/workspace/web/minhas-financas-app/node_modules/currency-formatter/index.js"],"names":["accounting","require","assign","localeCurrency","currencies","localeFormats","defaultCurrency","symbol","thousandsSeparator","decimalSeparator","symbolOnLeft","spaceBetweenAmountAndSymbol","decimalDigits","defaultLocaleFormat","formatMapping","format","pos","neg","zero","value","options","code","locale","getCurrency","localeMatch","exec","language","region","localeFormat","currency","findCurrency","filter","f","formatMoney","isUndefined","decimal","thousand","precision","indexOf","currencyCode","val","unformat","module","exports","Object","keys","map","key"],"mappings":"AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,eAAD,CAApB;;AACA,IAAIE,cAAc,GAAGF,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIG,UAAU,GAAGH,OAAO,CAAC,mBAAD,CAAxB;;AACA,IAAII,aAAa,GAAGJ,OAAO,CAAC,sBAAD,CAA3B;;AAEA,IAAIK,eAAe,GAAG;AACpBC,EAAAA,MAAM,EAAE,EADY;AAEpBC,EAAAA,kBAAkB,EAAE,GAFA;AAGpBC,EAAAA,gBAAgB,EAAE,GAHE;AAIpBC,EAAAA,YAAY,EAAE,IAJM;AAKpBC,EAAAA,2BAA2B,EAAE,KALT;AAMpBC,EAAAA,aAAa,EAAE;AANK,CAAtB;AASA,IAAIC,mBAAmB,GAAG,EAA1B;AAEA,IAAIC,aAAa,GAAG,CAClB;AACEJ,EAAAA,YAAY,EAAE,IADhB;AAEEC,EAAAA,2BAA2B,EAAE,KAF/B;AAGEI,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,MADC;AAENC,IAAAA,GAAG,EAAE,OAFC;AAGNC,IAAAA,IAAI,EAAE;AAHA;AAHV,CADkB,EAUlB;AACER,EAAAA,YAAY,EAAE,IADhB;AAEEC,EAAAA,2BAA2B,EAAE,IAF/B;AAGEI,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,OADC;AAENC,IAAAA,GAAG,EAAE,QAFC;AAGNC,IAAAA,IAAI,EAAE;AAHA;AAHV,CAVkB,EAmBlB;AACER,EAAAA,YAAY,EAAE,KADhB;AAEEC,EAAAA,2BAA2B,EAAE,KAF/B;AAGEI,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,MADC;AAENC,IAAAA,GAAG,EAAE,OAFC;AAGNC,IAAAA,IAAI,EAAE;AAHA;AAHV,CAnBkB,EA4BlB;AACER,EAAAA,YAAY,EAAE,KADhB;AAEEC,EAAAA,2BAA2B,EAAE,IAF/B;AAGEI,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,OADC;AAENC,IAAAA,GAAG,EAAE,QAFC;AAGNC,IAAAA,IAAI,EAAE;AAHA;AAHV,CA5BkB,CAApB;;AAuCA,SAASH,MAAT,CAAgBI,KAAhB,EAAuBC,OAAvB,EAAgC;AAC9B,MAAIC,IAAI,GAAGD,OAAO,CAACC,IAAR,IAAiBD,OAAO,CAACE,MAAR,IAAkBnB,cAAc,CAACoB,WAAf,CAA2BH,OAAO,CAACE,MAAnC,CAA9C;AACA,MAAIE,WAAW,GAAG,6BAA6BC,IAA7B,CAAkCL,OAAO,CAACE,MAA1C,KAAqD,EAAvE;AACA,MAAII,QAAQ,GAAGF,WAAW,CAAC,CAAD,CAA1B;AACA,MAAIG,MAAM,GAAGH,WAAW,CAAC,CAAD,CAAxB;AACA,MAAII,YAAY,GAAG1B,MAAM,CAAC,EAAD,EAAKW,mBAAL,EACCR,aAAa,CAACqB,QAAD,CAAb,IAA2B,EAD5B,EAECrB,aAAa,CAACqB,QAAQ,GAAG,GAAX,GAAiBC,MAAlB,CAAb,IAA0C,EAF3C,CAAzB;AAGA,MAAIE,QAAQ,GAAG3B,MAAM,CAAC,EAAD,EAAKI,eAAL,EAAsBwB,YAAY,CAACT,IAAD,CAAlC,EAA0CO,YAA1C,CAArB;AAEA,MAAIlB,YAAY,GAAGmB,QAAQ,CAACnB,YAA5B;AACA,MAAIC,2BAA2B,GAAGkB,QAAQ,CAAClB,2BAA3C;AAEA,MAAII,MAAM,GAAGD,aAAa,CAACiB,MAAd,CAAqB,UAASC,CAAT,EAAY;AAC5C,WAAOA,CAAC,CAACtB,YAAF,IAAkBA,YAAlB,IAAkCsB,CAAC,CAACrB,2BAAF,IAAiCA,2BAA1E;AACD,GAFY,EAEV,CAFU,EAEPI,MAFN;AAIA,SAAOf,UAAU,CAACiC,WAAX,CAAuBd,KAAvB,EAA8B;AACnCZ,IAAAA,MAAM,EAAE2B,WAAW,CAACd,OAAO,CAACb,MAAT,CAAX,GACIsB,QAAQ,CAACtB,MADb,GAEIa,OAAO,CAACb,MAHe;AAKnC4B,IAAAA,OAAO,EAAED,WAAW,CAACd,OAAO,CAACe,OAAT,CAAX,GACGN,QAAQ,CAACpB,gBADZ,GAEGW,OAAO,CAACe,OAPe;AASnCC,IAAAA,QAAQ,EAAEF,WAAW,CAACd,OAAO,CAACgB,QAAT,CAAX,GACEP,QAAQ,CAACrB,kBADX,GAEEY,OAAO,CAACgB,QAXe;AAanCC,IAAAA,SAAS,EAAE,OAAOjB,OAAO,CAACiB,SAAf,KAA6B,QAA7B,GACCjB,OAAO,CAACiB,SADT,GAECR,QAAQ,CAACjB,aAfc;AAiBnCG,IAAAA,MAAM,EAAE,CAAC,QAAD,EAAW,QAAX,EAAqBuB,OAArB,CAA6B,OAAOlB,OAAO,CAACL,MAA5C,IAAsD,CAAC,CAAvD,GACIK,OAAO,CAACL,MADZ,GAEIA;AAnBuB,GAA9B,CAAP;AAqBD;;AAED,SAASe,YAAT,CAAuBS,YAAvB,EAAqC;AACnC,SAAOnC,UAAU,CAACmC,YAAD,CAAjB;AACD;;AAED,SAASL,WAAT,CAAsBM,GAAtB,EAA2B;AACzB,SAAO,OAAOA,GAAP,KAAe,WAAtB;AACD;;AAED,SAASC,QAAT,CAAkBtB,KAAlB,EAAyBC,OAAzB,EAAkC;AAChC,MAAIC,IAAI,GAAGD,OAAO,CAACC,IAAR,IAAiBD,OAAO,CAACE,MAAR,IAAkBnB,cAAc,CAACoB,WAAf,CAA2BH,OAAO,CAACE,MAAnC,CAA9C;AACA,MAAIM,YAAY,GAAGvB,aAAa,CAACe,OAAO,CAACE,MAAT,CAAb,IAAiCT,mBAApD;AACA,MAAIgB,QAAQ,GAAG3B,MAAM,CAAC,EAAD,EAAKI,eAAL,EAAsBwB,YAAY,CAACT,IAAD,CAAlC,EAA0CO,YAA1C,CAArB;AACA,MAAIO,OAAO,GAAGD,WAAW,CAACd,OAAO,CAACe,OAAT,CAAX,GAA+BN,QAAQ,CAACpB,gBAAxC,GAA2DW,OAAO,CAACe,OAAjF;AACA,SAAOnC,UAAU,CAACyC,QAAX,CAAoBtB,KAApB,EAA2BgB,OAA3B,CAAP;AACD;;AAEDO,MAAM,CAACC,OAAP,GAAiB;AACfrC,EAAAA,eAAe,EAAEA,eADF;;AAEf,MAAIF,UAAJ,GAAiB;AACf;AACA,WAAOwC,MAAM,CAACC,IAAP,CAAYzC,UAAZ,EAAwB0C,GAAxB,CAA4B,UAASC,GAAT,EAAc;AAC/C,aAAO3C,UAAU,CAAC2C,GAAD,CAAjB;AACD,KAFM,CAAP;AAGD,GAPc;;AAQfjB,EAAAA,YAAY,EAAEA,YARC;AASff,EAAAA,MAAM,EAAEA,MATO;AAUf0B,EAAAA,QAAQ,EAAEA;AAVK,CAAjB","sourcesContent":["var accounting = require('accounting')\nvar assign = require('object-assign')\nvar localeCurrency = require('locale-currency')\nvar currencies = require('./currencies.json')\nvar localeFormats = require('./localeFormats.json')\n\nvar defaultCurrency = {\n  symbol: '',\n  thousandsSeparator: ',',\n  decimalSeparator: '.',\n  symbolOnLeft: true,\n  spaceBetweenAmountAndSymbol: false,\n  decimalDigits: 2\n}\n\nvar defaultLocaleFormat = {}\n\nvar formatMapping = [\n  {\n    symbolOnLeft: true,\n    spaceBetweenAmountAndSymbol: false,\n    format: {\n      pos: '%s%v',\n      neg: '-%s%v',\n      zero: '%s%v'\n    }\n  },\n  {\n    symbolOnLeft: true,\n    spaceBetweenAmountAndSymbol: true,\n    format: {\n      pos: '%s %v',\n      neg: '-%s %v',\n      zero: '%s %v'\n    }\n  },\n  {\n    symbolOnLeft: false,\n    spaceBetweenAmountAndSymbol: false,\n    format: {\n      pos: '%v%s',\n      neg: '-%v%s',\n      zero: '%v%s'\n    }\n  },\n  {\n    symbolOnLeft: false,\n    spaceBetweenAmountAndSymbol: true,\n    format: {\n      pos: '%v %s',\n      neg: '-%v %s',\n      zero: '%v %s'\n    }\n  }\n]\n\nfunction format(value, options) {\n  var code = options.code || (options.locale && localeCurrency.getCurrency(options.locale))\n  var localeMatch = /^([a-z]+)([_-]([a-z]+))?$/i.exec(options.locale) || []\n  var language = localeMatch[1]\n  var region = localeMatch[3]\n  var localeFormat = assign({}, defaultLocaleFormat,\n                            localeFormats[language] || {},\n                            localeFormats[language + '-' + region] || {})\n  var currency = assign({}, defaultCurrency, findCurrency(code), localeFormat)\n  \n  var symbolOnLeft = currency.symbolOnLeft\n  var spaceBetweenAmountAndSymbol = currency.spaceBetweenAmountAndSymbol\n\n  var format = formatMapping.filter(function(f) {\n    return f.symbolOnLeft == symbolOnLeft && f.spaceBetweenAmountAndSymbol == spaceBetweenAmountAndSymbol\n  })[0].format\n\n  return accounting.formatMoney(value, {\n    symbol: isUndefined(options.symbol)\n              ? currency.symbol\n              : options.symbol,\n\n    decimal: isUndefined(options.decimal)\n              ? currency.decimalSeparator\n              : options.decimal,\n\n    thousand: isUndefined(options.thousand)\n              ? currency.thousandsSeparator\n              : options.thousand,\n\n    precision: typeof options.precision === 'number'\n              ? options.precision\n              : currency.decimalDigits,\n\n    format: ['string', 'object'].indexOf(typeof options.format) > -1\n              ? options.format\n              : format\n  })\n}\n\nfunction findCurrency (currencyCode) {\n  return currencies[currencyCode]\n}\n\nfunction isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nfunction unformat(value, options) {\n  var code = options.code || (options.locale && localeCurrency.getCurrency(options.locale))\n  var localeFormat = localeFormats[options.locale] || defaultLocaleFormat\n  var currency = assign({}, defaultCurrency, findCurrency(code), localeFormat)\n  var decimal = isUndefined(options.decimal) ? currency.decimalSeparator : options.decimal\n  return accounting.unformat(value, decimal)\n}\n\nmodule.exports = {\n  defaultCurrency: defaultCurrency,\n  get currencies() {\n    // In favor of backwards compatibility, the currencies map is converted to an array here\n    return Object.keys(currencies).map(function(key) {\n      return currencies[key]\n    })\n  },\n  findCurrency: findCurrency,\n  format: format,\n  unformat: unformat\n}"]},"metadata":{},"sourceType":"script"}